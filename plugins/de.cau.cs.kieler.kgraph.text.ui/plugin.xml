<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.0"?>
<plugin>

    <!-- 
         This file is structured such that manually added extensions are clearly separated from
         extensions generated by xtext. This should allow to mostly replace the xtext part with the 
         contents of the plugin.xml_gen (which is generated by xtext) without missing 
         any of the manually added ones.
         
         Exceptions: 
            the kgraph editor definition contains an additional icon:
                icon="icons/kgraph/kgraph.gif"
    -->

    <!-- - - - - - -  -->
    <!--    MANUAL    -->
    <!-- - - - - - -  -->
    <extension
          point="org.eclipse.ui.newWizards">
       <wizard
             canFinishEarly="false"
             category="de.cau.cs.kieler.kgraph"
             class="de.cau.cs.kieler.kgraph.text.ui.random.wizard.RandomGraphWizard"
             hasPages="true"
             icon="icons/kgraph/kgraph-new.gif"
             id="de.cau.cs.kieler.kgraph.text.random.wizard"
             name="Random KGraph"
             project="false">
       </wizard>
       <wizard
             canFinishEarly="false"
             category="de.cau.cs.kieler.kgraph"
             class="de.cau.cs.kieler.kgraph.text.ui.EmptyGraphWizard"
             hasPages="true"
             icon="icons/kgraph/kgraph-new.gif"
             id="de.cau.cs.kieler.kgraph.text.empty.wizard"
             name="Empty KGraph"
             project="false">
       </wizard>
       <category
             id="de.cau.cs.kieler.kgraph"
             name="KGraph">
       </category>
    </extension>
    <extension
          point="org.eclipse.core.runtime.preferences">
       <initializer
             class="de.cau.cs.kieler.kgraph.text.ui.random.GeneratorPreferenceInitializer">
       </initializer>
    </extension>
    <extension
          point="org.eclipse.ui.commands">
       <command
             categoryId="org.eclipse.ui.category.file"
             defaultHandler="de.cau.cs.kieler.kgraph.text.ui.ConvertGraphHandler"
             id="de.cau.cs.kieler.core.model.convert"
             name="Convert Graph">
          <commandParameter
                id="de.cau.cs.kieler.convert.targetExtension"
                name="Target Extension"
                optional="false">
          </commandParameter>
       </command>
    </extension>
     <extension point="org.eclipse.ui.menus">
          <menuContribution
             locationURI="popup:org.eclipse.ui.popup.any?after=additions">
          <command
                commandId="de.cau.cs.kieler.core.model.convert"
                label="Convert to Textual Graph (kgt)"
                style="push"
                tooltip="Convert the graph to textual KGraph format">
             <visibleWhen
                   checkEnabled="false">
                <iterate
                      ifEmpty="false"
                      operator="and">
                   <adapt
                         type="org.eclipse.core.resources.IResource">
                      <or>
                         <test
                               forcePluginActivation="false"
                               property="org.eclipse.core.resources.extension"
                               value="kgx">
                         </test>
                         <test
                               forcePluginActivation="false"
                               property="org.eclipse.core.resources.extension"
                               value="kgraph">
                         </test>
                      </or>
                   </adapt>
                </iterate>
             </visibleWhen>
             <parameter
                   name="de.cau.cs.kieler.convert.targetExtension"
                   value="kgt">
             </parameter>
          </command>
                   <command
                commandId="de.cau.cs.kieler.core.model.convert"
                label="Convert to XMI Graph (kgx)"
                style="push"
                tooltip="Convert the graph to XMI-based KGraph format">
             <visibleWhen
                   checkEnabled="false">
                <iterate
                      ifEmpty="false"
                      operator="and">
                   <adapt
                         type="org.eclipse.core.resources.IResource">
                      <test
                            forcePluginActivation="false"
                            property="org.eclipse.core.resources.extension"
                            value="kgt">
                      </test>
                   </adapt>
                </iterate>
             </visibleWhen>
             <parameter
                   name="de.cau.cs.kieler.convert.targetExtension"
                   value="kgx">
             </parameter>
          </command>
      </menuContribution>
     </extension>
    <extension
          point="de.cau.cs.kieler.kiml.formats.graphFormats">
       <handler
             class="de.cau.cs.kieler.kgraph.text.ui.KGraphExecutableExtensionFactory:de.cau.cs.kieler.kgraph.text.ui.KGraphTextHandler"
             description="Xtext-based notation for the KGraph format."
             extensions="kgt"
             id="de.cau.cs.kieler.kgraph.text"
             name="KGraph Text">
       </handler>
    </extension>

    <!-- - - - - - - -->
    <!--    XTEXT    -->
    <!-- - - - - - - -->
	<extension
		point="org.eclipse.ui.editors">
		<editor
			class="de.cau.cs.kieler.kgraph.text.ui.KGraphExecutableExtensionFactory:org.eclipse.xtext.ui.editor.XtextEditor"
			contributorClass="org.eclipse.ui.editors.text.TextEditorActionContributor"
			default="true"
			extensions="kgt"
			icon="icons/kgraph/kgraph.gif"
			id="de.cau.cs.kieler.kgraph.text.KGraph"
			name="KGraph Editor">
		</editor>
	</extension>
	<extension
		point="org.eclipse.ui.handlers">
		<handler
			class="de.cau.cs.kieler.kgraph.text.ui.KGraphExecutableExtensionFactory:org.eclipse.xtext.ui.editor.hyperlinking.OpenDeclarationHandler"
			commandId="org.eclipse.xtext.ui.editor.hyperlinking.OpenDeclaration">
			<activeWhen>
				<reference
					definitionId="de.cau.cs.kieler.kgraph.text.KGraph.Editor.opened">
				</reference>
			</activeWhen>
		</handler>
		<handler
			class="de.cau.cs.kieler.kgraph.text.ui.KGraphExecutableExtensionFactory:org.eclipse.xtext.ui.editor.handler.ValidateActionHandler"
			commandId="de.cau.cs.kieler.kgraph.text.KGraph.validate">
		<activeWhen>
			<reference
					definitionId="de.cau.cs.kieler.kgraph.text.KGraph.Editor.opened">
			</reference>
		</activeWhen>
		</handler>
		<!-- copy qualified name -->
		<handler
			class="de.cau.cs.kieler.kgraph.text.ui.KGraphExecutableExtensionFactory:org.eclipse.xtext.ui.editor.copyqualifiedname.EditorCopyQualifiedNameHandler"
			commandId="org.eclipse.xtext.ui.editor.copyqualifiedname.EditorCopyQualifiedName">
			<activeWhen>
				<reference definitionId="de.cau.cs.kieler.kgraph.text.KGraph.Editor.opened" />
			</activeWhen>
		</handler>
		<handler
			class="de.cau.cs.kieler.kgraph.text.ui.KGraphExecutableExtensionFactory:org.eclipse.xtext.ui.editor.copyqualifiedname.OutlineCopyQualifiedNameHandler"
			commandId="org.eclipse.xtext.ui.editor.copyqualifiedname.OutlineCopyQualifiedName">
			<activeWhen>
				<and>
					<reference definitionId="de.cau.cs.kieler.kgraph.text.KGraph.XtextEditor.opened" />
					<iterate>
						<adapt type="org.eclipse.xtext.ui.editor.outline.IOutlineNode" />
					</iterate>
				</and>
			</activeWhen>
		</handler>
	</extension>
	<extension point="org.eclipse.core.expressions.definitions">
		<definition id="de.cau.cs.kieler.kgraph.text.KGraph.Editor.opened">
			<and>
				<reference definitionId="isActiveEditorAnInstanceOfXtextEditor"/>
				<with variable="activeEditor">
					<test property="org.eclipse.xtext.ui.editor.XtextEditor.languageName" 
						value="de.cau.cs.kieler.kgraph.text.KGraph" 
						forcePluginActivation="true"/>
				</with>		
			</and>
		</definition>
		<definition id="de.cau.cs.kieler.kgraph.text.KGraph.XtextEditor.opened">
			<and>
				<reference definitionId="isXtextEditorActive"/>
				<with variable="activeEditor">
					<test property="org.eclipse.xtext.ui.editor.XtextEditor.languageName" 
						value="de.cau.cs.kieler.kgraph.text.KGraph" 
						forcePluginActivation="true"/>
				</with>		
			</and>
		</definition>
	</extension>
	<extension
			point="org.eclipse.ui.preferencePages">
		<page
			class="de.cau.cs.kieler.kgraph.text.ui.KGraphExecutableExtensionFactory:org.eclipse.xtext.ui.editor.preferences.LanguageRootPreferencePage"
			id="de.cau.cs.kieler.kgraph.text.KGraph"
			name="KGraph">
			<keywordReference id="de.cau.cs.kieler.kgraph.text.ui.keyword_KGraph"/>
		</page>
		<page
			category="de.cau.cs.kieler.kgraph.text.KGraph"
			class="de.cau.cs.kieler.kgraph.text.ui.KGraphExecutableExtensionFactory:org.eclipse.xtext.ui.editor.syntaxcoloring.SyntaxColoringPreferencePage"
			id="de.cau.cs.kieler.kgraph.text.KGraph.coloring"
			name="Syntax Coloring">
			<keywordReference id="de.cau.cs.kieler.kgraph.text.ui.keyword_KGraph"/>
		</page>
		<page
			category="de.cau.cs.kieler.kgraph.text.KGraph"
			class="de.cau.cs.kieler.kgraph.text.ui.KGraphExecutableExtensionFactory:org.eclipse.xtext.ui.editor.templates.XtextTemplatePreferencePage"
			id="de.cau.cs.kieler.kgraph.text.KGraph.templates"
			name="Templates">
			<keywordReference id="de.cau.cs.kieler.kgraph.text.ui.keyword_KGraph"/>
		</page>
	</extension>
	<extension
			point="org.eclipse.ui.propertyPages">
		<page
			class="de.cau.cs.kieler.kgraph.text.ui.KGraphExecutableExtensionFactory:org.eclipse.xtext.ui.editor.preferences.LanguageRootPreferencePage"
			id="de.cau.cs.kieler.kgraph.text.KGraph"
			name="KGraph">
			<keywordReference id="de.cau.cs.kieler.kgraph.text.ui.keyword_KGraph"/>
			<enabledWhen>
				<adapt type="org.eclipse.core.resources.IProject"/>
			</enabledWhen>
			<filter name="projectNature" value="org.eclipse.xtext.ui.shared.xtextNature"/>
		</page>
	</extension>
	<extension
		point="org.eclipse.ui.keywords">
		<keyword
			id="de.cau.cs.kieler.kgraph.text.ui.keyword_KGraph"
			label="KGraph"/>
	</extension>
	<extension
		point="org.eclipse.ui.commands">
	<command
			description="Trigger expensive validation"
			id="de.cau.cs.kieler.kgraph.text.KGraph.validate"
			name="Validate">
	</command>
	<!-- copy qualified name -->
	<command
			id="org.eclipse.xtext.ui.editor.copyqualifiedname.EditorCopyQualifiedName"
			categoryId="org.eclipse.ui.category.edit"
			description="Copy the qualified name for the selected element"
			name="Copy Qualified Name">
	</command>
	<command
			id="org.eclipse.xtext.ui.editor.copyqualifiedname.OutlineCopyQualifiedName"
			categoryId="org.eclipse.ui.category.edit"
			description="Copy the qualified name for the selected element"
			name="Copy Qualified Name">
	</command>
	</extension>
	<extension point="org.eclipse.ui.menus">
		<menuContribution
			locationURI="popup:#TextEditorContext?after=group.edit">
			 <command
				 commandId="de.cau.cs.kieler.kgraph.text.KGraph.validate"
				 style="push"
				 tooltip="Trigger expensive validation">
			<visibleWhen checkEnabled="false">
				<reference
					definitionId="de.cau.cs.kieler.kgraph.text.KGraph.Editor.opened">
				</reference>
			</visibleWhen>
		</command>  
		</menuContribution>
		<!-- copy qualified name -->
		<menuContribution locationURI="popup:#TextEditorContext?after=copy">
			<command commandId="org.eclipse.xtext.ui.editor.copyqualifiedname.EditorCopyQualifiedName" 
				style="push" tooltip="Copy Qualified Name">
				<visibleWhen checkEnabled="false">
					<reference definitionId="de.cau.cs.kieler.kgraph.text.KGraph.Editor.opened" />
				</visibleWhen>
			</command>  
		</menuContribution>
		<menuContribution locationURI="menu:edit?after=copy">
			<command commandId="org.eclipse.xtext.ui.editor.copyqualifiedname.EditorCopyQualifiedName"
				style="push" tooltip="Copy Qualified Name">
				<visibleWhen checkEnabled="false">
					<reference definitionId="de.cau.cs.kieler.kgraph.text.KGraph.Editor.opened" />
				</visibleWhen>
			</command>  
		</menuContribution>
		<menuContribution locationURI="popup:org.eclipse.xtext.ui.outline?after=additions">
			<command commandId="org.eclipse.xtext.ui.editor.copyqualifiedname.OutlineCopyQualifiedName" 
				style="push" tooltip="Copy Qualified Name">
				<visibleWhen checkEnabled="false">
					<and>
						<reference definitionId="de.cau.cs.kieler.kgraph.text.KGraph.XtextEditor.opened" />
						<iterate>
							<adapt type="org.eclipse.xtext.ui.editor.outline.IOutlineNode" />
						</iterate>
					</and>
				</visibleWhen>
			</command>
		</menuContribution>
	</extension>
	<extension point="org.eclipse.ui.menus">
		<menuContribution locationURI="popup:#TextEditorContext?endof=group.find">
			<command commandId="org.eclipse.xtext.ui.editor.FindReferences">
				<visibleWhen checkEnabled="false">
					<reference definitionId="de.cau.cs.kieler.kgraph.text.KGraph.Editor.opened">
					</reference>
				</visibleWhen>
			</command>
		</menuContribution>
	</extension>
	<extension point="org.eclipse.ui.handlers">
		<handler
			class="de.cau.cs.kieler.kgraph.text.ui.KGraphExecutableExtensionFactory:org.eclipse.xtext.ui.editor.findrefs.FindReferencesHandler"
			commandId="org.eclipse.xtext.ui.editor.FindReferences">
			<activeWhen>
				<reference
					definitionId="de.cau.cs.kieler.kgraph.text.KGraph.Editor.opened">
				</reference>
			</activeWhen>
		</handler>
	</extension>
	<!-- adding resource factories -->
	<extension
		point="org.eclipse.emf.ecore.extension_parser">
		<parser
			class="de.cau.cs.kieler.kgraph.text.ui.KGraphExecutableExtensionFactory:org.eclipse.xtext.resource.IResourceFactory"
			type="kgt">
		</parser>
	</extension>
	<extension point="org.eclipse.xtext.extension_resourceServiceProvider">
	    <resourceServiceProvider
	        class="de.cau.cs.kieler.kgraph.text.ui.KGraphExecutableExtensionFactory:org.eclipse.xtext.ui.resource.IResourceUIServiceProvider"
	        uriExtension="kgt">
	    </resourceServiceProvider>
	</extension>
	<!-- marker definitions for de.cau.cs.kieler.kgraph.text.KGraph -->
	<extension
			id="kgraph.check.fast"
			name="KGraph Problem"
			point="org.eclipse.core.resources.markers">
		<super type="org.eclipse.xtext.ui.check.fast"/>
		<persistent value="true"/>
	</extension>
	<extension
			id="kgraph.check.normal"
			name="KGraph Problem"
			point="org.eclipse.core.resources.markers">
		<super type="org.eclipse.xtext.ui.check.normal"/>
		<persistent value="true"/>
	</extension>
	<extension
			id="kgraph.check.expensive"
			name="KGraph Problem"
			point="org.eclipse.core.resources.markers">
		<super type="org.eclipse.xtext.ui.check.expensive"/>
		<persistent value="true"/>
	</extension>
	<extension point="org.eclipse.xtext.builder.participant">
		<participant
			class="de.cau.cs.kieler.kgraph.text.ui.KGraphExecutableExtensionFactory:org.eclipse.xtext.builder.IXtextBuilderParticipant"
			fileExtensions="kgt"/>
	</extension>
	<extension point="org.eclipse.ui.preferencePages">
		<page
			category="de.cau.cs.kieler.kgraph.text.KGraph"
			class="de.cau.cs.kieler.kgraph.text.ui.KGraphExecutableExtensionFactory:org.eclipse.xtext.builder.preferences.BuilderPreferencePage"
			id="de.cau.cs.kieler.kgraph.text.KGraph.compiler.preferencePage"
			name="Compiler">
			<keywordReference id="de.cau.cs.kieler.kgraph.text.ui.keyword_KGraph"/>
		</page>
	</extension>
	<extension point="org.eclipse.ui.propertyPages">
		<page
			category="de.cau.cs.kieler.kgraph.text.KGraph"
			class="de.cau.cs.kieler.kgraph.text.ui.KGraphExecutableExtensionFactory:org.eclipse.xtext.builder.preferences.BuilderPreferencePage"
			id="de.cau.cs.kieler.kgraph.text.KGraph.compiler.propertyPage"
			name="Compiler">
			<keywordReference id="de.cau.cs.kieler.kgraph.text.ui.keyword_KGraph"/>
			<enabledWhen>
				<adapt type="org.eclipse.core.resources.IProject"/>
			</enabledWhen>
			<filter name="projectNature" value="org.eclipse.xtext.ui.shared.xtextNature"/>
		</page>
	</extension>
	<extension point="org.eclipse.ui.menus">
		<menuContribution locationURI="popup:#TextEditorContext?after=xtext.ui.openDeclaration">
			<command
				commandId="org.eclipse.xtext.ui.OpenGeneratedFileCommand"
				id="de.cau.cs.kieler.kgraph.text.KGraph.OpenGeneratedCode"
				style="push">
				<visibleWhen checkEnabled="false">
					<reference definitionId="de.cau.cs.kieler.kgraph.text.KGraph.Editor.opened" />
				</visibleWhen>
			</command>
		</menuContribution>
	</extension>
	<extension point="org.eclipse.ui.handlers">
		<handler
			class="de.cau.cs.kieler.kgraph.text.ui.KGraphExecutableExtensionFactory:org.eclipse.xtext.ui.generator.trace.OpenGeneratedFileHandler"
			commandId="org.eclipse.xtext.ui.OpenGeneratedFileCommand">
			<activeWhen>
				<reference definitionId="de.cau.cs.kieler.kgraph.text.KGraph.Editor.opened" />
			</activeWhen>
		</handler>
	</extension>
	<!-- Quick Outline -->
	<extension
		point="org.eclipse.ui.handlers">
		<handler 
			class="de.cau.cs.kieler.kgraph.text.ui.KGraphExecutableExtensionFactory:org.eclipse.xtext.ui.editor.outline.quickoutline.ShowQuickOutlineActionHandler"
			commandId="org.eclipse.xtext.ui.editor.outline.QuickOutline">
			<activeWhen>
				<reference
					definitionId="de.cau.cs.kieler.kgraph.text.KGraph.Editor.opened">
				</reference>
			</activeWhen>
		</handler>
	</extension>
	<extension
		point="org.eclipse.ui.commands">
		<command
			description="Open the quick outline."
			id="org.eclipse.xtext.ui.editor.outline.QuickOutline"
			name="Quick Outline">
		</command>
	</extension>
	<extension point="org.eclipse.ui.menus">
		<menuContribution
			locationURI="popup:#TextEditorContext?after=group.open">
			<command commandId="org.eclipse.xtext.ui.editor.outline.QuickOutline"
				style="push"
				tooltip="Open Quick Outline">
				<visibleWhen checkEnabled="false">
					<reference definitionId="de.cau.cs.kieler.kgraph.text.KGraph.Editor.opened"/>
				</visibleWhen>
			</command>
		</menuContribution>
	</extension>
	<!-- quickfix marker resolution generator for de.cau.cs.kieler.kgraph.text.KGraph -->
	<extension
	        point="org.eclipse.ui.ide.markerResolution">
	    <markerResolutionGenerator
	        class="de.cau.cs.kieler.kgraph.text.ui.KGraphExecutableExtensionFactory:org.eclipse.xtext.ui.editor.quickfix.MarkerResolutionGenerator"
	        markerType="de.cau.cs.kieler.kgraph.text.ui.kgraph.check.fast">
	        <attribute
	            name="FIXABLE_KEY"
	            value="true">
	        </attribute>
	    </markerResolutionGenerator>
	    <markerResolutionGenerator
	        class="de.cau.cs.kieler.kgraph.text.ui.KGraphExecutableExtensionFactory:org.eclipse.xtext.ui.editor.quickfix.MarkerResolutionGenerator"
	        markerType="de.cau.cs.kieler.kgraph.text.ui.kgraph.check.normal">
	        <attribute
	            name="FIXABLE_KEY"
	            value="true">
	        </attribute>
	    </markerResolutionGenerator>
	    <markerResolutionGenerator
	        class="de.cau.cs.kieler.kgraph.text.ui.KGraphExecutableExtensionFactory:org.eclipse.xtext.ui.editor.quickfix.MarkerResolutionGenerator"
	        markerType="de.cau.cs.kieler.kgraph.text.ui.kgraph.check.expensive">
	        <attribute
	            name="FIXABLE_KEY"
	            value="true">
	        </attribute>
	    </markerResolutionGenerator>
	</extension>
	<!-- Rename Refactoring -->
	<extension point="org.eclipse.ui.handlers">
		<handler 
			class="de.cau.cs.kieler.kgraph.text.ui.KGraphExecutableExtensionFactory:org.eclipse.xtext.ui.refactoring.ui.DefaultRenameElementHandler"
			commandId="org.eclipse.xtext.ui.refactoring.RenameElement">
			<activeWhen>
				<reference
					definitionId="de.cau.cs.kieler.kgraph.text.KGraph.Editor.opened">
				</reference>
			</activeWhen>
		</handler>
	</extension>
	<extension point="org.eclipse.ui.menus">
		<menuContribution
			locationURI="popup:#TextEditorContext?after=group.edit">
			<command commandId="org.eclipse.xtext.ui.refactoring.RenameElement"
				style="push">
				<visibleWhen checkEnabled="false">
					<reference
						definitionId="de.cau.cs.kieler.kgraph.text.KGraph.Editor.opened">
					</reference>
				</visibleWhen>
			</command>
		</menuContribution>
	</extension>
	<extension point="org.eclipse.ui.preferencePages">
		<page
			category="de.cau.cs.kieler.kgraph.text.KGraph"
			class="de.cau.cs.kieler.kgraph.text.ui.KGraphExecutableExtensionFactory:org.eclipse.xtext.ui.refactoring.ui.RefactoringPreferencePage"
			id="de.cau.cs.kieler.kgraph.text.KGraph.refactoring"
			name="Refactoring">
			<keywordReference id="de.cau.cs.kieler.kgraph.text.ui.keyword_KGraph"/>
		</page>
	</extension>
	<extension point="org.eclipse.compare.contentViewers">
		<viewer id="de.cau.cs.kieler.kgraph.text.KGraph.compare.contentViewers"
			class="de.cau.cs.kieler.kgraph.text.ui.KGraphExecutableExtensionFactory:org.eclipse.xtext.ui.compare.InjectableViewerCreator"
			extensions="kgt">
		</viewer>
	</extension>
	<extension point="org.eclipse.compare.contentMergeViewers">
		<viewer id="de.cau.cs.kieler.kgraph.text.KGraph.compare.contentMergeViewers"
			class="de.cau.cs.kieler.kgraph.text.ui.KGraphExecutableExtensionFactory:org.eclipse.xtext.ui.compare.InjectableViewerCreator"
			extensions="kgt" label="KGraph Compare">
		</viewer>
	</extension>
	<extension point="org.eclipse.ui.editors.documentProviders">
		<provider id="de.cau.cs.kieler.kgraph.text.KGraph.editors.documentProviders"
			class="de.cau.cs.kieler.kgraph.text.ui.KGraphExecutableExtensionFactory:org.eclipse.xtext.ui.editor.model.XtextDocumentProvider"
			extensions="kgt">
		</provider>
	</extension>
	<extension point="org.eclipse.team.core.fileTypes">
		<fileTypes
			extension="kgt"
			type="text">
		</fileTypes>
	</extension>
	<extension
		point="org.eclipse.ui.editors">
		<editor
			class="de.cau.cs.kieler.kgraph.text.ui.GRandomExecutableExtensionFactory:org.eclipse.xtext.ui.editor.XtextEditor"
			contributorClass="org.eclipse.ui.editors.text.TextEditorActionContributor"
			default="true"
			extensions="rdg"
			id="de.cau.cs.kieler.kgraph.text.GRandom"
			name="GRandom Editor">
		</editor>
	</extension>
	<extension
		point="org.eclipse.ui.handlers">
		<handler
			class="de.cau.cs.kieler.kgraph.text.ui.GRandomExecutableExtensionFactory:org.eclipse.xtext.ui.editor.hyperlinking.OpenDeclarationHandler"
			commandId="org.eclipse.xtext.ui.editor.hyperlinking.OpenDeclaration">
			<activeWhen>
				<reference
					definitionId="de.cau.cs.kieler.kgraph.text.GRandom.Editor.opened">
				</reference>
			</activeWhen>
		</handler>
		<handler
			class="de.cau.cs.kieler.kgraph.text.ui.GRandomExecutableExtensionFactory:org.eclipse.xtext.ui.editor.handler.ValidateActionHandler"
			commandId="de.cau.cs.kieler.kgraph.text.GRandom.validate">
		<activeWhen>
			<reference
					definitionId="de.cau.cs.kieler.kgraph.text.GRandom.Editor.opened">
			</reference>
		</activeWhen>
		</handler>
		<!-- copy qualified name -->
		<handler
			class="de.cau.cs.kieler.kgraph.text.ui.GRandomExecutableExtensionFactory:org.eclipse.xtext.ui.editor.copyqualifiedname.EditorCopyQualifiedNameHandler"
			commandId="org.eclipse.xtext.ui.editor.copyqualifiedname.EditorCopyQualifiedName">
			<activeWhen>
				<reference definitionId="de.cau.cs.kieler.kgraph.text.GRandom.Editor.opened" />
			</activeWhen>
		</handler>
		<handler
			class="de.cau.cs.kieler.kgraph.text.ui.GRandomExecutableExtensionFactory:org.eclipse.xtext.ui.editor.copyqualifiedname.OutlineCopyQualifiedNameHandler"
			commandId="org.eclipse.xtext.ui.editor.copyqualifiedname.OutlineCopyQualifiedName">
			<activeWhen>
				<and>
					<reference definitionId="de.cau.cs.kieler.kgraph.text.GRandom.XtextEditor.opened" />
					<iterate>
						<adapt type="org.eclipse.xtext.ui.editor.outline.IOutlineNode" />
					</iterate>
				</and>
			</activeWhen>
		</handler>
	</extension>
	<extension point="org.eclipse.core.expressions.definitions">
		<definition id="de.cau.cs.kieler.kgraph.text.GRandom.Editor.opened">
			<and>
				<reference definitionId="isActiveEditorAnInstanceOfXtextEditor"/>
				<with variable="activeEditor">
					<test property="org.eclipse.xtext.ui.editor.XtextEditor.languageName" 
						value="de.cau.cs.kieler.kgraph.text.GRandom" 
						forcePluginActivation="true"/>
				</with>		
			</and>
		</definition>
		<definition id="de.cau.cs.kieler.kgraph.text.GRandom.XtextEditor.opened">
			<and>
				<reference definitionId="isXtextEditorActive"/>
				<with variable="activeEditor">
					<test property="org.eclipse.xtext.ui.editor.XtextEditor.languageName" 
						value="de.cau.cs.kieler.kgraph.text.GRandom" 
						forcePluginActivation="true"/>
				</with>		
			</and>
		</definition>
	</extension>
	<extension
			point="org.eclipse.ui.preferencePages">
		<page
			class="de.cau.cs.kieler.kgraph.text.ui.GRandomExecutableExtensionFactory:org.eclipse.xtext.ui.editor.preferences.LanguageRootPreferencePage"
			id="de.cau.cs.kieler.kgraph.text.GRandom"
			name="GRandom">
			<keywordReference id="de.cau.cs.kieler.kgraph.text.ui.keyword_GRandom"/>
		</page>
		<page
			category="de.cau.cs.kieler.kgraph.text.GRandom"
			class="de.cau.cs.kieler.kgraph.text.ui.GRandomExecutableExtensionFactory:org.eclipse.xtext.ui.editor.syntaxcoloring.SyntaxColoringPreferencePage"
			id="de.cau.cs.kieler.kgraph.text.GRandom.coloring"
			name="Syntax Coloring">
			<keywordReference id="de.cau.cs.kieler.kgraph.text.ui.keyword_GRandom"/>
		</page>
		<page
			category="de.cau.cs.kieler.kgraph.text.GRandom"
			class="de.cau.cs.kieler.kgraph.text.ui.GRandomExecutableExtensionFactory:org.eclipse.xtext.ui.editor.templates.XtextTemplatePreferencePage"
			id="de.cau.cs.kieler.kgraph.text.GRandom.templates"
			name="Templates">
			<keywordReference id="de.cau.cs.kieler.kgraph.text.ui.keyword_GRandom"/>
		</page>
	</extension>
	<extension
			point="org.eclipse.ui.propertyPages">
		<page
			class="de.cau.cs.kieler.kgraph.text.ui.GRandomExecutableExtensionFactory:org.eclipse.xtext.ui.editor.preferences.LanguageRootPreferencePage"
			id="de.cau.cs.kieler.kgraph.text.GRandom"
			name="GRandom">
			<keywordReference id="de.cau.cs.kieler.kgraph.text.ui.keyword_GRandom"/>
			<enabledWhen>
				<adapt type="org.eclipse.core.resources.IProject"/>
			</enabledWhen>
			<filter name="projectNature" value="org.eclipse.xtext.ui.shared.xtextNature"/>
		</page>
	</extension>
	<extension
		point="org.eclipse.ui.keywords">
		<keyword
			id="de.cau.cs.kieler.kgraph.text.ui.keyword_GRandom"
			label="GRandom"/>
	</extension>
	<extension
		point="org.eclipse.ui.commands">
	<command
			description="Trigger expensive validation"
			id="de.cau.cs.kieler.kgraph.text.GRandom.validate"
			name="Validate">
	</command>
	<!-- copy qualified name -->
	<command
			id="org.eclipse.xtext.ui.editor.copyqualifiedname.EditorCopyQualifiedName"
			categoryId="org.eclipse.ui.category.edit"
			description="Copy the qualified name for the selected element"
			name="Copy Qualified Name">
	</command>
	<command
			id="org.eclipse.xtext.ui.editor.copyqualifiedname.OutlineCopyQualifiedName"
			categoryId="org.eclipse.ui.category.edit"
			description="Copy the qualified name for the selected element"
			name="Copy Qualified Name">
	</command>
	</extension>
	<extension point="org.eclipse.ui.menus">
		<menuContribution
			locationURI="popup:#TextEditorContext?after=group.edit">
			 <command
				 commandId="de.cau.cs.kieler.kgraph.text.GRandom.validate"
				 style="push"
				 tooltip="Trigger expensive validation">
			<visibleWhen checkEnabled="false">
				<reference
					definitionId="de.cau.cs.kieler.kgraph.text.GRandom.Editor.opened">
				</reference>
			</visibleWhen>
		</command>  
		</menuContribution>
		<!-- copy qualified name -->
		<menuContribution locationURI="popup:#TextEditorContext?after=copy">
			<command commandId="org.eclipse.xtext.ui.editor.copyqualifiedname.EditorCopyQualifiedName" 
				style="push" tooltip="Copy Qualified Name">
				<visibleWhen checkEnabled="false">
					<reference definitionId="de.cau.cs.kieler.kgraph.text.GRandom.Editor.opened" />
				</visibleWhen>
			</command>  
		</menuContribution>
		<menuContribution locationURI="menu:edit?after=copy">
			<command commandId="org.eclipse.xtext.ui.editor.copyqualifiedname.EditorCopyQualifiedName"
				style="push" tooltip="Copy Qualified Name">
				<visibleWhen checkEnabled="false">
					<reference definitionId="de.cau.cs.kieler.kgraph.text.GRandom.Editor.opened" />
				</visibleWhen>
			</command>  
		</menuContribution>
		<menuContribution locationURI="popup:org.eclipse.xtext.ui.outline?after=additions">
			<command commandId="org.eclipse.xtext.ui.editor.copyqualifiedname.OutlineCopyQualifiedName" 
				style="push" tooltip="Copy Qualified Name">
				<visibleWhen checkEnabled="false">
					<and>
						<reference definitionId="de.cau.cs.kieler.kgraph.text.GRandom.XtextEditor.opened" />
						<iterate>
							<adapt type="org.eclipse.xtext.ui.editor.outline.IOutlineNode" />
						</iterate>
					</and>
				</visibleWhen>
			</command>
		</menuContribution>
	</extension>
	<extension point="org.eclipse.ui.menus">
		<menuContribution locationURI="popup:#TextEditorContext?endof=group.find">
			<command commandId="org.eclipse.xtext.ui.editor.FindReferences">
				<visibleWhen checkEnabled="false">
					<reference definitionId="de.cau.cs.kieler.kgraph.text.GRandom.Editor.opened">
					</reference>
				</visibleWhen>
			</command>
		</menuContribution>
	</extension>
	<extension point="org.eclipse.ui.handlers">
		<handler
			class="de.cau.cs.kieler.kgraph.text.ui.GRandomExecutableExtensionFactory:org.eclipse.xtext.ui.editor.findrefs.FindReferencesHandler"
			commandId="org.eclipse.xtext.ui.editor.FindReferences">
			<activeWhen>
				<reference
					definitionId="de.cau.cs.kieler.kgraph.text.GRandom.Editor.opened">
				</reference>
			</activeWhen>
		</handler>
	</extension>
	<!-- adding resource factories -->
	<extension
		point="org.eclipse.emf.ecore.extension_parser">
		<parser
			class="de.cau.cs.kieler.kgraph.text.ui.GRandomExecutableExtensionFactory:org.eclipse.xtext.resource.IResourceFactory"
			type="rdg">
		</parser>
	</extension>
	<extension point="org.eclipse.xtext.extension_resourceServiceProvider">
	    <resourceServiceProvider
	        class="de.cau.cs.kieler.kgraph.text.ui.GRandomExecutableExtensionFactory:org.eclipse.xtext.ui.resource.IResourceUIServiceProvider"
	        uriExtension="rdg">
	    </resourceServiceProvider>
	</extension>
	<!-- marker definitions for de.cau.cs.kieler.kgraph.text.GRandom -->
	<extension
			id="grandom.check.fast"
			name="GRandom Problem"
			point="org.eclipse.core.resources.markers">
		<super type="org.eclipse.xtext.ui.check.fast"/>
		<persistent value="true"/>
	</extension>
	<extension
			id="grandom.check.normal"
			name="GRandom Problem"
			point="org.eclipse.core.resources.markers">
		<super type="org.eclipse.xtext.ui.check.normal"/>
		<persistent value="true"/>
	</extension>
	<extension
			id="grandom.check.expensive"
			name="GRandom Problem"
			point="org.eclipse.core.resources.markers">
		<super type="org.eclipse.xtext.ui.check.expensive"/>
		<persistent value="true"/>
	</extension>
	<extension point="org.eclipse.xtext.builder.participant">
		<participant
			class="de.cau.cs.kieler.kgraph.text.ui.GRandomExecutableExtensionFactory:org.eclipse.xtext.builder.IXtextBuilderParticipant"
			fileExtensions="rdg"/>
	</extension>
	<extension point="org.eclipse.ui.preferencePages">
		<page
			category="de.cau.cs.kieler.kgraph.text.GRandom"
			class="de.cau.cs.kieler.kgraph.text.ui.GRandomExecutableExtensionFactory:org.eclipse.xtext.builder.preferences.BuilderPreferencePage"
			id="de.cau.cs.kieler.kgraph.text.GRandom.compiler.preferencePage"
			name="Compiler">
			<keywordReference id="de.cau.cs.kieler.kgraph.text.ui.keyword_GRandom"/>
		</page>
	</extension>
	<extension point="org.eclipse.ui.propertyPages">
		<page
			category="de.cau.cs.kieler.kgraph.text.GRandom"
			class="de.cau.cs.kieler.kgraph.text.ui.GRandomExecutableExtensionFactory:org.eclipse.xtext.builder.preferences.BuilderPreferencePage"
			id="de.cau.cs.kieler.kgraph.text.GRandom.compiler.propertyPage"
			name="Compiler">
			<keywordReference id="de.cau.cs.kieler.kgraph.text.ui.keyword_GRandom"/>
			<enabledWhen>
				<adapt type="org.eclipse.core.resources.IProject"/>
			</enabledWhen>
			<filter name="projectNature" value="org.eclipse.xtext.ui.shared.xtextNature"/>
		</page>
	</extension>
	<extension point="org.eclipse.ui.menus">
		<menuContribution locationURI="popup:#TextEditorContext?after=xtext.ui.openDeclaration">
			<command
				commandId="org.eclipse.xtext.ui.OpenGeneratedFileCommand"
				id="de.cau.cs.kieler.kgraph.text.GRandom.OpenGeneratedCode"
				style="push">
				<visibleWhen checkEnabled="false">
					<reference definitionId="de.cau.cs.kieler.kgraph.text.GRandom.Editor.opened" />
				</visibleWhen>
			</command>
		</menuContribution>
	</extension>
	<extension point="org.eclipse.ui.handlers">
		<handler
			class="de.cau.cs.kieler.kgraph.text.ui.GRandomExecutableExtensionFactory:org.eclipse.xtext.ui.generator.trace.OpenGeneratedFileHandler"
			commandId="org.eclipse.xtext.ui.OpenGeneratedFileCommand">
			<activeWhen>
				<reference definitionId="de.cau.cs.kieler.kgraph.text.GRandom.Editor.opened" />
			</activeWhen>
		</handler>
	</extension>
	<!-- Quick Outline -->
	<extension
		point="org.eclipse.ui.handlers">
		<handler 
			class="de.cau.cs.kieler.kgraph.text.ui.GRandomExecutableExtensionFactory:org.eclipse.xtext.ui.editor.outline.quickoutline.ShowQuickOutlineActionHandler"
			commandId="org.eclipse.xtext.ui.editor.outline.QuickOutline">
			<activeWhen>
				<reference
					definitionId="de.cau.cs.kieler.kgraph.text.GRandom.Editor.opened">
				</reference>
			</activeWhen>
		</handler>
	</extension>
	<extension
		point="org.eclipse.ui.commands">
		<command
			description="Open the quick outline."
			id="org.eclipse.xtext.ui.editor.outline.QuickOutline"
			name="Quick Outline">
		</command>
	</extension>
	<extension point="org.eclipse.ui.menus">
		<menuContribution
			locationURI="popup:#TextEditorContext?after=group.open">
			<command commandId="org.eclipse.xtext.ui.editor.outline.QuickOutline"
				style="push"
				tooltip="Open Quick Outline">
				<visibleWhen checkEnabled="false">
					<reference definitionId="de.cau.cs.kieler.kgraph.text.GRandom.Editor.opened"/>
				</visibleWhen>
			</command>
		</menuContribution>
	</extension>
	<!-- quickfix marker resolution generator for de.cau.cs.kieler.kgraph.text.GRandom -->
	<extension
	        point="org.eclipse.ui.ide.markerResolution">
	    <markerResolutionGenerator
	        class="de.cau.cs.kieler.kgraph.text.ui.GRandomExecutableExtensionFactory:org.eclipse.xtext.ui.editor.quickfix.MarkerResolutionGenerator"
	        markerType="de.cau.cs.kieler.kgraph.text.ui.grandom.check.fast">
	        <attribute
	            name="FIXABLE_KEY"
	            value="true">
	        </attribute>
	    </markerResolutionGenerator>
	    <markerResolutionGenerator
	        class="de.cau.cs.kieler.kgraph.text.ui.GRandomExecutableExtensionFactory:org.eclipse.xtext.ui.editor.quickfix.MarkerResolutionGenerator"
	        markerType="de.cau.cs.kieler.kgraph.text.ui.grandom.check.normal">
	        <attribute
	            name="FIXABLE_KEY"
	            value="true">
	        </attribute>
	    </markerResolutionGenerator>
	    <markerResolutionGenerator
	        class="de.cau.cs.kieler.kgraph.text.ui.GRandomExecutableExtensionFactory:org.eclipse.xtext.ui.editor.quickfix.MarkerResolutionGenerator"
	        markerType="de.cau.cs.kieler.kgraph.text.ui.grandom.check.expensive">
	        <attribute
	            name="FIXABLE_KEY"
	            value="true">
	        </attribute>
	    </markerResolutionGenerator>
	</extension>
	<!-- Rename Refactoring -->
	<extension point="org.eclipse.ui.handlers">
		<handler 
			class="de.cau.cs.kieler.kgraph.text.ui.GRandomExecutableExtensionFactory:org.eclipse.xtext.ui.refactoring.ui.DefaultRenameElementHandler"
			commandId="org.eclipse.xtext.ui.refactoring.RenameElement">
			<activeWhen>
				<reference
					definitionId="de.cau.cs.kieler.kgraph.text.GRandom.Editor.opened">
				</reference>
			</activeWhen>
		</handler>
	</extension>
	<extension point="org.eclipse.ui.menus">
		<menuContribution
			locationURI="popup:#TextEditorContext?after=group.edit">
			<command commandId="org.eclipse.xtext.ui.refactoring.RenameElement"
				style="push">
				<visibleWhen checkEnabled="false">
					<reference
						definitionId="de.cau.cs.kieler.kgraph.text.GRandom.Editor.opened">
					</reference>
				</visibleWhen>
			</command>
		</menuContribution>
	</extension>
	<extension point="org.eclipse.ui.preferencePages">
		<page
			category="de.cau.cs.kieler.kgraph.text.GRandom"
			class="de.cau.cs.kieler.kgraph.text.ui.GRandomExecutableExtensionFactory:org.eclipse.xtext.ui.refactoring.ui.RefactoringPreferencePage"
			id="de.cau.cs.kieler.kgraph.text.GRandom.refactoring"
			name="Refactoring">
			<keywordReference id="de.cau.cs.kieler.kgraph.text.ui.keyword_GRandom"/>
		</page>
	</extension>
	<extension point="org.eclipse.compare.contentViewers">
		<viewer id="de.cau.cs.kieler.kgraph.text.GRandom.compare.contentViewers"
			class="de.cau.cs.kieler.kgraph.text.ui.GRandomExecutableExtensionFactory:org.eclipse.xtext.ui.compare.InjectableViewerCreator"
			extensions="rdg">
		</viewer>
	</extension>
	<extension point="org.eclipse.compare.contentMergeViewers">
		<viewer id="de.cau.cs.kieler.kgraph.text.GRandom.compare.contentMergeViewers"
			class="de.cau.cs.kieler.kgraph.text.ui.GRandomExecutableExtensionFactory:org.eclipse.xtext.ui.compare.InjectableViewerCreator"
			extensions="rdg" label="GRandom Compare">
		</viewer>
	</extension>
	<extension point="org.eclipse.ui.editors.documentProviders">
		<provider id="de.cau.cs.kieler.kgraph.text.GRandom.editors.documentProviders"
			class="de.cau.cs.kieler.kgraph.text.ui.GRandomExecutableExtensionFactory:org.eclipse.xtext.ui.editor.model.XtextDocumentProvider"
			extensions="rdg">
		</provider>
	</extension>
	<extension point="org.eclipse.team.core.fileTypes">
		<fileTypes
			extension="rdg"
			type="text">
		</fileTypes>
	</extension>
</plugin>
